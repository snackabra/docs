[JSLib Reference Manual](../README.md) / [Exports](../modules.md) / SB384

# Class: SB384

Basic (core) capability object in SB.

**`Param`**

a jwk with which to create identity; if not provided, it will
'mint' (generate) them randomly, in other words it will default to creating
a new identity ("384").

**`Param`**

if true, will force SB384 to include private key; it
will throw an exception if the key is not private. If SB384 is used to mint,
then it's always private.

The important "externally visible" formats are:

- [SB384.userId](SB384.md#userid): unique hash ([SB384Hash](../modules.md#sb384hash)) of contents of
  public key, shorter format (256 bits, 43 x base62), cannot be used to
  reconstruct key, used to identify users (and channels)

- userPublicKey(): encodes core public key info ('x' and 'y' fields), as a
  base62 string (with a unique prefix). This is 'wire' format as well as
  human-readable. 

- userPrivateKey(): similar to public key format, adds the 'd' field
  information (embedded), from this format a full private key can be
  reconstructed.

Like most SB classes, SB384 follows the "ready template" design pattern: the
object is immediately available upon creation, but isn't "ready" until it
says it's ready. See `Channel Class`_ example below. Getters will throw
exceptions if the object isn't sufficiently initialized. Also see Design
Note [4]_.

[https://snackabra.io/jslib.html#dn-004-the-ready-pattern](https://snackabra.io/jslib.html#dn-004-the-ready-pattern)

## Hierarchy

- **`SB384`**

  ↳ [`SBChannelKeys`](SBChannelKeys.md)

## Table of contents

### Constructors

- [constructor](SB384.md#constructor)

### Properties

- [errorState](SB384.md#errorstate)
- [sb384Ready](SB384.md#sb384ready)
- [ReadyFlag](SB384.md#readyflag)

### Accessors

- [SB384ReadyFlag](SB384.md#sb384readyflag)
- [hash](SB384.md#hash)
- [hashB32](SB384.md#hashb32)
- [jwkPrivate](SB384.md#jwkprivate)
- [jwkPublic](SB384.md#jwkpublic)
- [ownerChannelId](SB384.md#ownerchannelid)
- [private](SB384.md#private)
- [privateKey](SB384.md#privatekey)
- [publicKey](SB384.md#publickey)
- [ready](SB384.md#ready)
- [signKey](SB384.md#signkey)
- [userId](SB384.md#userid)
- [userPrivateKey](SB384.md#userprivatekey)
- [userPrivateKeyDehydrated](SB384.md#userprivatekeydehydrated)
- [userPublicKey](SB384.md#userpublickey)
- [ySign](SB384.md#ysign)

## Constructors

### constructor

• **new SB384**(`key?`, `forcePrivate?`): [`SB384`](SB384.md)

As a fundamental object, SB384 can be initialized from a number starting points:

- No key provided: a new key pair is generated
- A CryptoKey object: a key pair is generated from the CryptoKey
- A JsonWebKey object: a key pair is generated from the JsonWebKey
- A SBUserPublicKey object: a key pair is generated from the SBUserPublicKey
- A SBUserPrivateKey object: a key pair is generated from the SBUserPrivateKey

The 'forcePrivate' parameter is used to force the object to be private; if
the key provided is inherently not private, an exception is thrown. This simplifies
situation where it would only make sense if you're operating with a private key,
and spares you from (sometimes convoluted) checks (eg what fields are present in
a 'jwk' field etc).

#### Parameters

| Name | Type |
| :------ | :------ |
| `key?` | `string` \| `CryptoKey` \| `JsonWebKey` |
| `forcePrivate?` | `boolean` |

#### Returns

[`SB384`](SB384.md)

## Properties

### errorState

• **errorState**: `boolean` = `false`

___

### sb384Ready

• **sb384Ready**: `Promise`\<[`SB384`](SB384.md)\>

___

### ReadyFlag

▪ `Static` **ReadyFlag**: `symbol`

## Accessors

### SB384ReadyFlag

• `get` **SB384ReadyFlag**(): `any`

#### Returns

`any`

___

### hash

• `get` **hash**(): `string`

Returns a unique identifier for external use, that will be unique
for any class or object that uses SB384 as it's root.

This is deterministic. Typical use case is to translate a user id
into a ChannelId (eg the channel that any user id is inherently
the owner of).

The hash is base62 encoding of the SHA-384 hash of the public key.

#### Returns

`string`

___

### hashB32

• `get` **hashB32**(): `string`

Similar to [SB384.hash](SB384.md#hash), but base32 encoded.

#### Returns

`string`

___

### jwkPrivate

• `get` **jwkPrivate**(): `JsonWebKey`

#### Returns

`JsonWebKey`

___

### jwkPublic

• `get` **jwkPublic**(): `JsonWebKey`

#### Returns

`JsonWebKey`

___

### ownerChannelId

• `get` **ownerChannelId**(): `string`

ChannelID that corresponds to this, if it's an owner

#### Returns

`string`

___

### private

• `get` **private**(): `boolean`

Returns true if this is a private key, otherwise false.
Will throw an exception if the object is not ready.

#### Returns

`boolean`

___

### privateKey

• `get` **privateKey**(): `CryptoKey`

#### Returns

`CryptoKey`

___

### publicKey

• `get` **publicKey**(): `CryptoKey`

#### Returns

`CryptoKey`

___

### ready

• `get` **ready**(): `Promise`\<[`SB384`](SB384.md)\>

#### Returns

`Promise`\<[`SB384`](SB384.md)\>

___

### signKey

• `get` **signKey**(): `CryptoKey`

#### Returns

`CryptoKey`

___

### userId

• `get` **userId**(): `string`

#### Returns

`string`

___

### userPrivateKey

• `get` **userPrivateKey**(): `string`

Wire format of full info of key (eg private key). Compressed.

#### Returns

`string`

___

### userPrivateKeyDehydrated

• `get` **userPrivateKeyDehydrated**(): `string`

Compressed and dehydrated, meaning, 'x' needs to come from another source.
(If lost it can be reconstructed from 'd')

#### Returns

`string`

___

### userPublicKey

• `get` **userPublicKey**(): `string`

Wire format of full (decodable) public key

#### Returns

`string`

___

### ySign

• `get` **ySign**(): ``0`` \| ``1``

#### Returns

``0`` \| ``1``
